(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{lhX9:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var i=u("pMnS"),a=u("MKJQ"),r=u("sZkV"),o=u("SVse"),s=u("s7LF"),b=u("mrSG"),c=u("flj8"),d=u("ej43"),p=u("92Lm");class g{constructor(l,n,u,t,e){this.activatedRoute=l,this.router=n,this.accountService=u,this.api=t,this.helper=e,this.ChatData={userid:"",listindid:"",useremail:""},this.chatContent=[],this.Reply={userid:"",listindid:"",useremail:"",lp_replylead:""},this.activatedRoute.queryParams.subscribe(l=>{this.router.getCurrentNavigation().extras.state&&(this.data=this.router.getCurrentNavigation().extras.state.data)}),setTimeout(l=>{this.contentArea.scrollToBottom()},2e3)}ngOnInit(){}ionViewWillEnter(){setTimeout(l=>{this.contentArea.scrollToBottom()},2e3)}ionViewDidEnter(){this.getChatData(),this.listTitle=this.data.listingName}getChatData(){return b.a(this,void 0,void 0,(function*(){this.ChatData.listindid=this.data.listId,this.ChatData.userid=this.data.userId,this.ChatData.useremail=this.data.chatEmail,this.api.postData("wp-json/app_inbox_chat/v1",this.ChatData).subscribe(l=>b.a(this,void 0,void 0,(function*(){this.chatContent=yield l}))),setTimeout(l=>{this.contentArea.scrollToBottom(3500)},2e3)}))}msgPost(){return b.a(this,void 0,void 0,(function*(){this.contentArea.scrollToBottom(1e3),this.validate(),!0===this.validation&&(this.Reply.userid=this.data.userId,this.Reply.listindid=this.data.listId,this.Reply.useremail=this.data.chatEmail,this.api.postData("wp-json/lp_reply_to_msg_app/v1",this.Reply).subscribe(l=>b.a(this,void 0,void 0,(function*(){this.Reply.lp_replylead="","success"===l.status&&(yield this.getChatData())}))))}))}validate(){0===this.Reply.lp_replylead.length?(this.helper.showAlert("Please Enter Message","Error"),this.validation=!1):this.validation=!0}}var h=u("iInd"),f=t.pb({encapsulation:0,styles:[[".image-sec-profile[_ngcontent-%COMP%]{border:1px solid #dedede;border-radius:50%;display:inline-block;width:30px;height:30px}p[_ngcontent-%COMP%]{margin:0}ion-row[_ngcontent-%COMP%]{margin-top:15px}ion-avatar.send-btn[_ngcontent-%COMP%]{width:45px;height:45px;background:#675ddd;text-align:center}ion-avatar.send-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:14px;max-height:20px;max-width:20px}ion-col[_ngcontent-%COMP%]{text-align:center}.incoming-msg[_ngcontent-%COMP%]{background:#f7f9fc;padding:10px 8px;border-radius:22px;border-top-left-radius:4px!important;border-bottom-left-radius:4px!important}.outgoing-msg[_ngcontent-%COMP%]{background:#f7f9fc;padding:10px 8px;border-radius:35px;border-top-right-radius:0!important}.incoming-msg[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}p.user-name[_ngcontent-%COMP%]{margin:0;color:#8697a8;font-size:10px;white-space:nowrap;text-transform:capitalize;text-align:center}.msg-date[_ngcontent-%COMP%]{color:#8697a8;font-size:10px}ion-textarea[_ngcontent-%COMP%]{border:1px solid #d3d3d3;border-radius:10px}"]],data:{}});function m(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"ion-avatar",[["class","image-sec-profile"]],null,null,null,a.db,a.b)),t.qb(1,49152,null,0,r.g,[t.h,t.k,t.y],null,null),(l()(),t.rb(2,0,null,0,0,"img",[["src","../../../assets/userAvatar.png"]],null,null,null,null,null))],null,null)}function y(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"ion-avatar",[["class","image-sec-profile"]],null,null,null,a.db,a.b)),t.qb(1,49152,null,0,r.g,[t.h,t.k,t.y],null,null),(l()(),t.rb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.useravatar)}))}function v(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,17,"ion-row",[],null,null,null,a.Mb,a.K)),t.qb(2,49152,null,0,r.hb,[t.h,t.k,t.y],null,null),(l()(),t.rb(3,0,null,0,7,"ion-col",[["size","2"]],null,null,null,a.nb,a.l)),t.qb(4,49152,null,0,r.u,[t.h,t.k,t.y],{size:[0,"size"]},null),(l()(),t.gb(16777216,null,0,1,null,m)),t.qb(6,16384,null,0,o.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,y)),t.qb(8,16384,null,0,o.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(9,0,null,0,1,"p",[["class","user-name"]],null,null,null,null,null)),(l()(),t.Jb(10,null,["",""])),(l()(),t.rb(11,0,null,0,7,"ion-col",[["size","9"]],null,null,null,a.nb,a.l)),t.qb(12,49152,null,0,r.u,[t.h,t.k,t.y],{size:[0,"size"]},null),(l()(),t.rb(13,0,null,0,2,"div",[["class","incoming-msg"]],null,null,null,null,null)),(l()(),t.rb(14,0,null,null,1,"p",[["style","color: #434A5E; font-size: 13px"]],null,null,null,null,null)),(l()(),t.Jb(15,null,["",""])),(l()(),t.rb(16,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t.rb(17,0,null,null,1,"p",[["class","msg-date"],["style","float: left"]],null,null,null,null,null)),(l()(),t.Jb(18,null,["",""]))],(function(l,n){l(n,4,0,"2"),l(n,6,0,null==n.parent.context.$implicit.useravatar),l(n,8,0,null!=n.parent.context.$implicit.useravatar),l(n,12,0,"9")}),(function(l,n){l(n,10,0,n.parent.context.$implicit.username),l(n,15,0,n.parent.context.$implicit.usermessage),l(n,18,0,n.parent.context.$implicit.messagetime)}))}function x(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"ion-avatar",[["class","image-sec-profile"]],null,null,null,a.db,a.b)),t.qb(1,49152,null,0,r.g,[t.h,t.k,t.y],null,null),(l()(),t.rb(2,0,null,0,0,"img",[["src","../../../assets/userAvatar.png"]],null,null,null,null,null))],null,null)}function k(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,2,"ion-avatar",[["class","image-sec-profile"]],null,null,null,a.db,a.b)),t.qb(1,49152,null,0,r.g,[t.h,t.k,t.y],null,null),(l()(),t.rb(2,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,2,0,n.parent.parent.context.$implicit.useravatar)}))}function C(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),t.rb(1,0,null,null,17,"ion-row",[],null,null,null,a.Mb,a.K)),t.qb(2,49152,null,0,r.hb,[t.h,t.k,t.y],null,null),(l()(),t.rb(3,0,null,0,7,"ion-col",[["offset","1"],["size","9"]],null,null,null,a.nb,a.l)),t.qb(4,49152,null,0,r.u,[t.h,t.k,t.y],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),t.rb(5,0,null,0,2,"div",[["class","outgoing-msg"]],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,1,"p",[["style","color: #675DDD; font-size: 13px"]],null,null,null,null,null)),(l()(),t.Jb(7,null,["",""])),(l()(),t.rb(8,0,null,0,2,"div",[],null,null,null,null,null)),(l()(),t.rb(9,0,null,null,1,"p",[["class","msg-date"],["style","float: right"]],null,null,null,null,null)),(l()(),t.Jb(10,null,["",""])),(l()(),t.rb(11,0,null,0,7,"ion-col",[["size","2"]],null,null,null,a.nb,a.l)),t.qb(12,49152,null,0,r.u,[t.h,t.k,t.y],{size:[0,"size"]},null),(l()(),t.gb(16777216,null,0,1,null,x)),t.qb(14,16384,null,0,o.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,k)),t.qb(16,16384,null,0,o.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(17,0,null,0,1,"p",[["class","user-name"]],null,null,null,null,null)),(l()(),t.Jb(18,null,["",""]))],(function(l,n){l(n,4,0,"1","9"),l(n,12,0,"2"),l(n,14,0,null==n.parent.context.$implicit.useravatar),l(n,16,0,null!=n.parent.context.$implicit.useravatar)}),(function(l,n){l(n,7,0,n.parent.context.$implicit.usermessage),l(n,10,0,n.parent.context.$implicit.messagetime),l(n,18,0,n.parent.context.$implicit.username)}))}function q(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.gb(16777216,null,null,1,null,v)),t.qb(2,16384,null,0,o.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,null,1,null,C)),t.qb(4,16384,null,0,o.k,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"lead"==n.context.$implicit.messageType),l(n,4,0,"reply"==n.context.$implicit.messageType)}),null)}function z(l){return t.Lb(0,[t.Hb(671088640,1,{contentArea:0}),t.Hb(671088640,2,{chatList:0}),(l()(),t.rb(2,0,null,null,11,"ion-header",[["class","ion-no-border"],["translucent","true"]],null,null,null,a.ub,a.s)),t.qb(3,49152,null,0,r.C,[t.h,t.k,t.y],{translucent:[0,"translucent"]},null),(l()(),t.rb(4,0,null,0,9,"ion-toolbar",[["style","border: 0px; --background: #fff; --border-style: none"]],null,null,null,a.dc,a.bb)),t.qb(5,49152,null,0,r.Ab,[t.h,t.k,t.y],null,null),(l()(),t.rb(6,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,a.hb,a.f)),t.qb(7,49152,null,0,r.m,[t.h,t.k,t.y],null,null),(l()(),t.rb(8,0,null,0,2,"ion-back-button",[["defaultHref","/dashboard"],["icon","arrow-back-outline"],["style","--color: #434A5E;font-size: 14px;"],["text",""]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,10).onClick(u)&&e),e}),a.eb,a.c)),t.qb(9,49152,null,0,r.h,[t.h,t.k,t.y],{defaultHref:[0,"defaultHref"],icon:[1,"icon"],text:[2,"text"]},null),t.qb(10,16384,null,0,r.i,[[2,r.gb],r.Hb,r.e],{defaultHref:[0,"defaultHref"]},null),(l()(),t.rb(11,0,null,0,2,"ion-title",[],null,null,null,a.bc,a.Z)),t.qb(12,49152,null,0,r.yb,[t.h,t.k,t.y],null,null),(l()(),t.Jb(13,0,["",""])),(l()(),t.rb(14,0,null,null,5,"ion-content",[["class","ion-padding"],["style","--background: #fff"]],null,null,null,a.ob,a.m)),t.qb(15,49152,[[1,4]],0,r.v,[t.h,t.k,t.y],{scrollEvents:[0,"scrollEvents"]},null),(l()(),t.rb(16,0,null,0,3,"ion-list",[],null,null,null,a.Cb,a.A)),t.qb(17,49152,[[2,4],["chatList",4]],0,r.P,[t.h,t.k,t.y],null,null),(l()(),t.gb(16777216,null,0,1,null,q)),t.qb(19,278528,null,0,o.j,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.rb(20,0,null,null,17,"ion-footer",[["class","ion-padding ion-no-border"]],null,null,null,a.sb,a.q)),t.qb(21,49152,null,0,r.A,[t.h,t.k,t.y],null,null),(l()(),t.rb(22,0,null,0,15,"ion-row",[],null,null,null,a.Mb,a.K)),t.qb(23,49152,null,0,r.hb,[t.h,t.k,t.y],null,null),(l()(),t.rb(24,0,null,0,8,"ion-col",[["size","10"],["style","text-align: start"]],null,null,null,a.nb,a.l)),t.qb(25,49152,null,0,r.u,[t.h,t.k,t.y],{size:[0,"size"]},null),(l()(),t.rb(26,0,null,0,6,"ion-input",[["class","ion-padding-start"],["placeholder","Type your reply here"],["style","font-size: 12px;border-radius: 15px; background: #F0F2FF"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0,i=l.component;return"ionBlur"===n&&(e=!1!==t.Db(l,27)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Db(l,27)._handleInputEvent(u.target)&&e),"ngModelChange"===n&&(e=!1!==(i.Reply.lp_replylead=u)&&e),e}),a.zb,a.x)),t.qb(27,4341760,null,0,r.Ob,[t.q,t.k],null,null),t.Gb(1024,null,s.m,(function(l){return[l]}),[r.Ob]),t.qb(29,671744,null,0,s.r,[[8,null],[8,null],[8,null],[6,s.m]],{model:[0,"model"]},{update:"ngModelChange"}),t.Gb(2048,null,s.n,null,[s.r]),t.qb(31,16384,null,0,s.o,[[4,s.n]],null,null),t.qb(32,49152,null,0,r.H,[t.h,t.k,t.y],{placeholder:[0,"placeholder"]},null),(l()(),t.rb(33,0,null,0,4,"ion-col",[["size","2"]],null,null,null,a.nb,a.l)),t.qb(34,49152,null,0,r.u,[t.h,t.k,t.y],{size:[0,"size"]},null),(l()(),t.rb(35,0,null,0,2,"ion-avatar",[["class","send-btn"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.msgPost()&&t),t}),a.db,a.b)),t.qb(36,49152,null,0,r.g,[t.h,t.k,t.y],null,null),(l()(),t.rb(37,0,null,0,0,"img",[["src","../../../assets/sndBtnInbx.svg"]],null,null,null,null,null))],(function(l,n){var u=n.component;l(n,3,0,"true"),l(n,9,0,"/dashboard","arrow-back-outline",""),l(n,10,0,"/dashboard"),l(n,15,0,!0),l(n,19,0,u.chatContent),l(n,25,0,"10"),l(n,29,0,u.Reply.lp_replylead),l(n,32,0,"Type your reply here"),l(n,34,0,"2")}),(function(l,n){l(n,13,0,n.component.listTitle),l(n,26,0,t.Db(n,31).ngClassUntouched,t.Db(n,31).ngClassTouched,t.Db(n,31).ngClassPristine,t.Db(n,31).ngClassDirty,t.Db(n,31).ngClassValid,t.Db(n,31).ngClassInvalid,t.Db(n,31).ngClassPending)}))}function _(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-chat",[],null,null,null,z,f)),t.qb(1,114688,null,0,g,[h.a,h.n,c.a,d.a,p.a],null,null)],(function(l,n){l(n,1,0)}),null)}var w=t.nb("app-chat",g,_,{},{},[]);class D{}u.d(n,"ChatPageModuleNgFactory",(function(){return M}));var M=t.ob(e,[],(function(l){return t.Ab([t.Bb(512,t.j,t.Z,[[8,[i.a,w]],[3,t.j],t.w]),t.Bb(4608,o.m,o.l,[t.t,[2,o.z]]),t.Bb(4608,s.w,s.w,[]),t.Bb(4608,r.c,r.c,[t.y,t.g]),t.Bb(4608,r.Gb,r.Gb,[r.c,t.j,t.q]),t.Bb(4608,r.Kb,r.Kb,[r.c,t.j,t.q]),t.Bb(1073742336,o.c,o.c,[]),t.Bb(1073742336,s.v,s.v,[]),t.Bb(1073742336,s.j,s.j,[]),t.Bb(1073742336,r.Cb,r.Cb,[]),t.Bb(1073742336,h.p,h.p,[[2,h.u],[2,h.n]]),t.Bb(1073742336,D,D,[]),t.Bb(1073742336,e,e,[]),t.Bb(1024,h.l,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);