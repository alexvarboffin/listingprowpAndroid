(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{scvi:function(n,t,l){"use strict";l.r(t);var i=l("8Y7J"),e=l("mrSG"),o=l("flj8"),a=l("ej43"),s=l("fd0Q"),u=l("92Lm"),r=l("hnS/"),c=l("dBp3");class g{constructor(n,t,l,i,e,o){this.helper=n,this.accountService=t,this.authenticationService=l,this.call=i,this.route=e,this.router=o,this.listingsads=[],this.listingswithoutads=[],this.isSearchBarOpned=!1,this.page=1,this.perPage=8,this.route.queryParams.subscribe(n=>{this.router.getCurrentNavigation().extras.state&&(this.data=this.router.getCurrentNavigation().extras.state.catgry,this.data.id?(this.helper.showLoading("Loading"),this.getListinData(this.data.id,this.perPage,this.page),this.id=this.data.id):(this.helper.showLoading("Loading"),this.getListinData(this.data.term_id,this.perPage,this.page),this.id=this.data.term_id),this.catTitle=this.data.name)}),this.getLoginData()}ngOnInit(){}ionViewDidEnter(){}loadLogin(){return e.a(this,void 0,void 0,(function*(){yield this.helper.presentPopUp(s.a,"","")}))}gotoDash(){this.router.navigate(["/dashboard"])}openSrchBox(){this.helper.presentPopUp(c.a,"list-search-popup","")}getListinData(n,t,l){return e.a(this,void 0,void 0,(function*(){return yield this.authenticationService.getData(`wp-json/get_category_listings/v1/data/${n}/${t}/${l}`).subscribe(n=>e.a(this,void 0,void 0,(function*(){this.listingsads=n.listings_with_ads,n.listings_without_ads.length>0?(this.listingswithoutads=this.listingswithoutads.concat(n.listings_without_ads),this.helper.dismissLoading(),this.page++):(this.imgUrlEmpty="../../../../assets/noListing.svg",this.responseEmpty="Try changing your Input",this.responseEmptyCon="Sorry! There are no listings matching your Input.",this.helper.dismissLoading())})))}))}getLoginData(){return e.a(this,void 0,void 0,(function*(){return yield this.accountService.watchStorage().subscribe(n=>{this.userdata=n})}))}gotoDetails(n){this.router.navigate(["/details",n])}loadData(n){setTimeout(()=>{this.getListinData(this.id,this.perPage,this.page),0===this.listingswithoutads.length&&n.target.complete(),n.target.complete()},500)}replaceSign(n){return n.replace(/&#038;/gm," ")}replaceString(n){return n.replace(/&amp;/gm,"&")}makeCall(n){this.call.callNumber(n,!0).then(n=>{},n=>{this.helper.showAlert(n,"error")})}}class p{}var h=l("pMnS"),d=l("n83F"),b=l("KxNu"),m=l("iInd"),f=l("hXe6"),x=l("rngg"),v=l("MKJQ"),y=l("sZkV"),w=l("SVse"),k=i.pb({encapsulation:0,styles:[[".side-menu-navigate[_ngcontent-%COMP%]{color:#fff;float:left}.page-heading[_ngcontent-%COMP%]{position:relative!important;-webkit-transform:translateY(0)!important;transform:translateY(0)!important;top:50%;left:0;width:100%;z-index:1;text-align:center}.page-overlay[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.6);position:absolute;top:0;left:0;width:100%;height:100%}.page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:23px;margin-top:-4px;margin-bottom:0!important;padding:30px!important;line-height:25px;color:#fff;text-transform:capitalize}.thumb-overlay[_ngcontent-%COMP%]{background-color:#8a6aeba6;position:absolute;width:calc(100% - 39px);height:98%;top:0;z-index:999;border-radius:3px!important}.ex-img[_ngcontent-%COMP%]{width:100%;border-radius:3px!important}.fields-pos[_ngcontent-%COMP%]{position:absolute;z-index:9999;left:0;bottom:0;width:100%;height:100%;color:#fff}.icon-pos-c[_ngcontent-%COMP%]{position:absolute;top:15px;left:30px}.content-main[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:32px;text-align:left}.add-btn[_ngcontent-%COMP%]{font-weight:400;display:inline-block!important;padding:3px 8px;line-height:14px;border-radius:5px;margin-bottom:10px;background-color:#ff9703}.bottom-text[_ngcontent-%COMP%]{font-size:15px;margin-top:5px;bottom:5px}.listing-bottom[_ngcontent-%COMP%]{width:100%;padding-bottom:24px}.listin-content-bottom[_ngcontent-%COMP%]{float:left;padding-left:10px;width:70%}ion-item[_ngcontent-%COMP%]{--inner-padding-bottom:10px;padding-right:10px}span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#797979}.no-img-thumb-overlay[_ngcontent-%COMP%]{background-color:#8a6aeba6;position:absolute;width:calc(100% - 39px);height:98%;top:0;z-index:999;border-radius:3px!important}"]],data:{}});function C(n){return i.Lb(0,[(n()(),i.rb(0,0,null,null,2,"span",[["slot","end"]],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,0,"img",[["src","./../../../assets/srchBtn.svg"],["style","vertical-align: middle;margin-right: 15px;"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==n.component.openSrchBox()&&i),i}),null,null)),(n()(),i.rb(2,0,null,null,0,"img",[["src","../../../assets/userIcon.svg"],["style","vertical-align: middle;"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==n.component.loadLogin()&&i),i}),null,null))],null,null)}function _(n){return i.Lb(0,[(n()(),i.rb(0,0,null,null,2,"span",[["slot","end"]],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,0,"img",[["src","../../../assets/srchBtn.svg"],["style","vertical-align: middle;margin-right: 15px;"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==n.component.openSrchBox()&&i),i}),null,null)),(n()(),i.rb(2,0,null,null,0,"img",[["src","../../../assets/homedshbrdBtn.svg"],["style","vertical-align: middle;"]],null,[[null,"click"]],(function(n,t,l){var i=!0;return"click"===t&&(i=!1!==n.component.gotoDash()&&i),i}),null,null))],null,null)}function P(n){return i.Lb(0,[(n()(),i.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,1,"app-listing-search",[],null,null,null,d.b,d.a)),i.qb(2,114688,null,0,b.a,[o.a,m.n,r.a,u.a,a.a],{listingWithAds:[0,"listingWithAds"],listingWithoutAds:[1,"listingWithoutAds"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.listingsads,l.listingswithoutads)}),null)}function L(n){return i.Lb(0,[(n()(),i.rb(0,0,null,null,2,"div",[["style","margin-top: 30px;display: inline-block;margin-bottom: 80px;text-align: center; width: 100%"]],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,1,"app-empty-content",[],null,null,null,f.b,f.a)),i.qb(2,114688,null,0,x.a,[],{responseEmpty:[0,"responseEmpty"],responseEmptyCon:[1,"responseEmptyCon"],imgUrl:[2,"imgUrl"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.responseEmpty,l.responseEmptyCon,l.imgUrlEmpty)}),null)}function B(n){return i.Lb(0,[(n()(),i.rb(0,0,null,null,0,"link",[["href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],["rel","stylesheet"]],null,null,null,null,null)),(n()(),i.rb(1,0,null,null,15,"ion-header",[["class","ion-no-border"]],null,null,null,v.ub,v.s)),i.qb(2,49152,null,0,y.C,[i.h,i.k,i.y],null,null),(n()(),i.rb(3,0,null,0,13,"ion-toolbar",[["class","ion-padding-end"],["style","border: 0px; --background: #fff; --border-style: none"]],null,null,null,v.dc,v.bb)),i.qb(4,49152,null,0,y.Ab,[i.h,i.k,i.y],null,null),(n()(),i.rb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,v.hb,v.f)),i.qb(6,49152,null,0,y.m,[i.h,i.k,i.y],null,null),(n()(),i.rb(7,0,null,0,2,"ion-back-button",[["icon","arrow-back-outline"],["style","--color: #181B23;"],["text",""]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==i.Db(n,9).onClick(l)&&e),e}),v.eb,v.c)),i.qb(8,49152,null,0,y.h,[i.h,i.k,i.y],{icon:[0,"icon"],text:[1,"text"]},null),i.qb(9,16384,null,0,y.i,[[2,y.gb],y.Hb,y.e],null,null),(n()(),i.rb(10,0,null,0,2,"ion-title",[["class","ion-no-padding"],["style","font-size: 18px;"]],null,null,null,v.bc,v.Z)),i.qb(11,49152,null,0,y.yb,[i.h,i.k,i.y],null,null),(n()(),i.Jb(12,0,[" "," "])),(n()(),i.gb(16777216,null,0,1,null,C)),i.qb(14,16384,null,0,w.k,[i.N,i.K],{ngIf:[0,"ngIf"]},null),(n()(),i.gb(16777216,null,0,1,null,_)),i.qb(16,16384,null,0,w.k,[i.N,i.K],{ngIf:[0,"ngIf"]},null),(n()(),i.rb(17,0,null,null,9,"ion-content",[["style","--background: #fff"]],null,null,null,v.ob,v.m)),i.qb(18,49152,null,0,y.v,[i.h,i.k,i.y],null,null),(n()(),i.gb(16777216,null,0,1,null,P)),i.qb(20,16384,null,0,w.k,[i.N,i.K],{ngIf:[0,"ngIf"]},null),(n()(),i.gb(16777216,null,0,1,null,L)),i.qb(22,16384,null,0,w.k,[i.N,i.K],{ngIf:[0,"ngIf"]},null),(n()(),i.rb(23,0,null,0,3,"ion-infinite-scroll",[["threshold","150px"]],null,[[null,"ionInfinite"]],(function(n,t,l){var i=!0;return"ionInfinite"===t&&(i=!1!==n.component.loadData(l)&&i),i}),v.yb,v.v)),i.qb(24,49152,null,0,y.F,[i.h,i.k,i.y],{threshold:[0,"threshold"]},null),(n()(),i.rb(25,0,null,0,1,"ion-infinite-scroll-content",[["loadingSpinner","bubbles"],["loadingText","Loading more data..."]],null,null,null,v.xb,v.w)),i.qb(26,49152,null,0,y.G,[i.h,i.k,i.y],{loadingSpinner:[0,"loadingSpinner"],loadingText:[1,"loadingText"]},null)],(function(n,t){var l=t.component;n(t,8,0,"arrow-back-outline",""),n(t,14,0,!l.userdata),n(t,16,0,l.userdata),n(t,20,0,l.listingswithoutads.length>0||l.listingsads.length>0),n(t,22,0,0==l.listingswithoutads.length&&0==l.listingsads.length),n(t,24,0,"150px"),n(t,26,0,"bubbles","Loading more data...")}),(function(n,t){var l=t.component;n(t,12,0,l.replaceString(l.catTitle))}))}function M(n){return i.Lb(0,[(n()(),i.rb(0,0,null,null,1,"app-cat-detail",[],null,null,null,B,k)),i.qb(1,114688,null,0,g,[u.a,o.a,a.a,r.a,m.a,m.n],null,null)],(function(n,t){n(t,1,0)}),null)}var O=i.nb("app-cat-detail",g,M,{},{},[]),S=l("s7LF"),q=l("bD7s"),D=l("j1ZV");l.d(t,"CatDetailPageModuleNgFactory",(function(){return I}));var I=i.ob(p,[],(function(n){return i.Ab([i.Bb(512,i.j,i.Z,[[8,[h.a,O]],[3,i.j],i.w]),i.Bb(4608,w.m,w.l,[i.t,[2,w.z]]),i.Bb(4608,S.w,S.w,[]),i.Bb(4608,y.c,y.c,[i.y,i.g]),i.Bb(4608,y.Gb,y.Gb,[y.c,i.j,i.q]),i.Bb(4608,y.Kb,y.Kb,[y.c,i.j,i.q]),i.Bb(1073742336,w.c,w.c,[]),i.Bb(1073742336,S.v,S.v,[]),i.Bb(1073742336,S.j,S.j,[]),i.Bb(1073742336,y.Cb,y.Cb,[]),i.Bb(1073742336,m.p,m.p,[[2,m.u],[2,m.n]]),i.Bb(1073742336,q.b,q.b,[]),i.Bb(1073742336,D.a,D.a,[]),i.Bb(1073742336,p,p,[]),i.Bb(1024,m.l,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);