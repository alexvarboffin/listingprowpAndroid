(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"8y9V":function(n,l,t){"use strict";t.r(l);var e=t("8Y7J"),o=t("mrSG"),i=t("flj8"),u=t("92Lm"),r=t("fd0Q"),a=t("dBp3");class s{constructor(n,l,t,e,o){this.renderer=n,this.accountService=l,this.helper=t,this.router=e,this.activatedRouter=o,this.locations=[],this.activatedRouter.queryParams.subscribe(n=>{this.router.getCurrentNavigation().extras.state&&(this.locations=this.router.getCurrentNavigation().extras.state.locations,console.log(this.locations))}),this.accountService.watchStorage().subscribe(n=>{this.userData=null!==n?n:null})}ngOnInit(){return o.a(this,void 0,void 0,(function*(){}))}ngAfterViewInit(){this.getGoogleMaps().then(n=>{const l=this.mapElement.nativeElement,t=new n.Map(l,{center:{lat:48.8513735,lng:2.3861292},zoom:3});let e,o=new google.maps.InfoWindow,i=[];i=this.locations;for(let u=0;u<i.length;u++){const r=new n.Marker({position:{lat:parseFloat(i[u].lat),lng:parseFloat(i[u].long)},map:t});n.event.addListenerOnce(t,"idle",()=>{this.renderer.addClass(l,"visible")}),n.event.addListener(r,"click",function(n,l){return console.log(i),function(){e='<div id="content"><div id="siteNotice"></div><h1 id="firstHeading" class="firstHeading">'+i[l].title.replace(/&#038;/gm," ")+'</h1><div id="bodyContent">'+i[l].address+'<p>Attribution: Uluru, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">https://en.wikipedia.org/w/index.php?title='+i[l].title.replace(/&#038;/gm," ")+"</a> </p></div></div>",o.setContent(e),o.open(t,n)}}(r,u))}}).catch(n=>{console.log(n)})}getGoogleMaps(){const n=window,l=n.google;return l&&l.maps?Promise.resolve(l.maps):new Promise((l,t)=>{const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdaIE9VgfVuOtoKroPCL1tXQf2CpQ4VOs",e.async=!0,e.defer=!0,document.body.appendChild(e),e.onload=()=>{const e=n.google;e&&e.maps?l(e.maps):t("Google maps SDK not available")}})}replaceSign(n){return n.replace(/&#038;/gm," ")}getLoginData(){return o.a(this,void 0,void 0,(function*(){return yield this.accountService.watchStorage().subscribe(n=>{this.userData=n})}))}gotoDash(){this.router.navigate(["/dashboard"])}openSrchBox(){this.helper.presentPopUp(a.a,"list-search-popup","")}loadLogin(){return o.a(this,void 0,void 0,(function*(){yield this.helper.presentPopUp(r.a,"","")}))}}class c{}var b=t("pMnS"),d=t("MKJQ"),g=t("sZkV"),p=t("SVse"),h=t("iInd"),f=e.pb({encapsulation:0,styles:[["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;color:#fff;text-align:center;padding:16px;text-decoration:none}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#111}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:target{color:#666}.map[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;background-color:transparent;opacity:0;-webkit-transition:opacity 150ms ease-in;transition:opacity 150ms ease-in}.map.visible[_ngcontent-%COMP%]{opacity:1}"]],data:{}});function m(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["slot","end"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"img",[["src","./../../../assets/srchBtn.svg"],["style","vertical-align: middle;margin-right: 15px;"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openSrchBox()&&e),e}),null,null)),(n()(),e.rb(2,0,null,null,0,"img",[["src","../../../assets/userIcon.svg"],["style","vertical-align: middle;"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.loadLogin()&&e),e}),null,null))],null,null)}function v(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"span",[["slot","end"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,0,"img",[["src","../../../assets/srchBtn.svg"],["style","vertical-align: middle;margin-right: 15px;"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openSrchBox()&&e),e}),null,null)),(n()(),e.rb(2,0,null,null,0,"img",[["src","../../../assets/homedshbrdBtn.svg"],["style","vertical-align: middle;"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.gotoDash()&&e),e}),null,null))],null,null)}function k(n){return e.Lb(0,[(n()(),e.rb(0,0,[[1,0],["map",1]],null,0,"div",[["class","map"]],null,null,null,null,null))],null,null)}function y(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,2,"div",[["class","ion-text-center ion-padding"],["style","margin-top: 50px;"]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,[" There are no Locations to show "]))],null,null)}function w(n){return e.Lb(0,[e.Hb(671088640,1,{mapElement:0}),(n()(),e.rb(1,0,null,null,14,"ion-header",[["class","ion-no-border"],["mode","ios"]],null,null,null,d.ub,d.s)),e.qb(2,49152,null,0,g.C,[e.h,e.k,e.y],{mode:[0,"mode"]},null),(n()(),e.rb(3,0,null,0,12,"ion-toolbar",[["class","ion-padding-top ion-padding-start ion-padding-end"],["mode","ios"],["style","border: 0px; --background: #fff; --border-style: none"]],null,null,null,d.dc,d.bb)),e.qb(4,49152,null,0,g.Ab,[e.h,e.k,e.y],{mode:[0,"mode"]},null),(n()(),e.rb(5,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,d.hb,d.f)),e.qb(6,49152,null,0,g.m,[e.h,e.k,e.y],null,null),(n()(),e.rb(7,0,null,0,2,"ion-back-button",[["defaultHref","/archive"],["icon","arrow-back-outline"],["style","--color: #181B23;"],["text",""]],null,[[null,"click"]],(function(n,l,t){var o=!0;return"click"===l&&(o=!1!==e.Db(n,9).onClick(t)&&o),o}),d.eb,d.c)),e.qb(8,49152,null,0,g.h,[e.h,e.k,e.y],{defaultHref:[0,"defaultHref"],icon:[1,"icon"],text:[2,"text"]},null),e.qb(9,16384,null,0,g.i,[[2,g.gb],g.Hb,g.e],{defaultHref:[0,"defaultHref"]},null),(n()(),e.rb(10,0,null,0,1,"ion-title",[],null,null,null,d.bc,d.Z)),e.qb(11,49152,null,0,g.yb,[e.h,e.k,e.y],null,null),(n()(),e.gb(16777216,null,0,1,null,m)),e.qb(13,16384,null,0,p.k,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,v)),e.qb(15,16384,null,0,p.k,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(16,0,null,null,5,"ion-content",[],null,null,null,d.ob,d.m)),e.qb(17,49152,null,0,g.v,[e.h,e.k,e.y],null,null),(n()(),e.gb(16777216,null,0,1,null,k)),e.qb(19,16384,null,0,p.k,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,y)),e.qb(21,16384,null,0,p.k,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,2,0,"ios"),n(l,4,0,"ios"),n(l,8,0,"/archive","arrow-back-outline",""),n(l,9,0,"/archive"),n(l,13,0,!t.userData),n(l,15,0,t.userData),n(l,19,0,t.locations.length>0),n(l,21,0,0==t.locations.length)}),null)}function B(n){return e.Lb(0,[(n()(),e.rb(0,0,null,null,1,"app-listinglocation",[],null,null,null,w,f)),e.qb(1,4308992,null,0,s,[e.C,i.a,u.a,h.n,h.a],null,null)],(function(n,l){n(l,1,0)}),null)}var C=e.nb("app-listinglocation",s,B,{},{},[]),x=t("s7LF"),M=t("bD7s"),P=t("j1ZV");t.d(l,"ListinglocationPageModuleNgFactory",(function(){return L}));var L=e.ob(c,[],(function(n){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[b.a,C]],[3,e.j],e.w]),e.Bb(4608,p.m,p.l,[e.t,[2,p.z]]),e.Bb(4608,x.w,x.w,[]),e.Bb(4608,g.c,g.c,[e.y,e.g]),e.Bb(4608,g.Gb,g.Gb,[g.c,e.j,e.q]),e.Bb(4608,g.Kb,g.Kb,[g.c,e.j,e.q]),e.Bb(1073742336,p.c,p.c,[]),e.Bb(1073742336,x.v,x.v,[]),e.Bb(1073742336,x.j,x.j,[]),e.Bb(1073742336,g.Cb,g.Cb,[]),e.Bb(1073742336,h.p,h.p,[[2,h.u],[2,h.n]]),e.Bb(1073742336,M.b,M.b,[]),e.Bb(1073742336,P.a,P.a,[]),e.Bb(1073742336,c,c,[]),e.Bb(1024,h.l,(function(){return[[{path:"",component:s}]]}),[])])}))},j1ZV:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));class e{}}}]);